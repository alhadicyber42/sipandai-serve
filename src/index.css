@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 210 40% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 239 84% 24%;
    --primary-foreground: 0 0% 100%;
    --primary-glow: 239 84% 67%;

    --secondary: 220 14% 96%;
    --secondary-foreground: 222 47% 11%;

    --muted: 220 14% 96%;
    --muted-foreground: 215 16% 47%;

    --accent: 160 84% 39%;
    --accent-foreground: 0 0% 100%;

    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 239 84% 67%;

    --radius: 0.5rem;

    --sidebar-background: 239 84% 24%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 0 0% 100%;
    --sidebar-primary-foreground: 239 84% 24%;
    --sidebar-accent: 239 84% 30%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 239 84% 30%;
    --sidebar-ring: 239 84% 67%;

    /* Custom Design Tokens */
    --gradient-primary: linear-gradient(135deg, hsl(239 84% 24%), hsl(239 84% 40%));
    --gradient-accent: linear-gradient(135deg, hsl(160 84% 39%), hsl(160 84% 55%));
    --gradient-subtle: linear-gradient(180deg, hsl(210 40% 98%), hsl(220 14% 96%));

    --shadow-sm: 0 1px 2px 0 hsl(222 47% 11% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(222 47% 11% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(222 47% 11% / 0.1);
    --shadow-glow: 0 0 20px hsl(239 84% 67% / 0.3);

    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark {
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;

    --card: 222 47% 15%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 15%;
    --popover-foreground: 210 40% 98%;

    --primary: 239 84% 67%;
    --primary-foreground: 222 47% 11%;
    --primary-glow: 239 84% 80%;

    --secondary: 217 33% 18%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 18%;
    --muted-foreground: 215 20% 65%;

    --accent: 160 84% 45%;
    --accent-foreground: 0 0% 100%;

    --success: 142 71% 50%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 55%;
    --warning-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 217 33% 25%;
    --input: 217 33% 25%;
    --ring: 239 84% 67%;

    --sidebar-background: 222 47% 11%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 239 84% 67%;
    --sidebar-primary-foreground: 222 47% 11%;
    --sidebar-accent: 217 33% 18%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 25%;
    --sidebar-ring: 239 84% 67%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
  }
  
  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }
  
  /* Improved focus states */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }
}

@layer components {
  /* Hover scale effect */
  .hover-scale {
    @apply transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98];
  }
  
  /* Interactive card */
  .interactive-card {
    @apply transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5;
  }
  
  /* Skeleton loading animation */
  .skeleton-loading {
    @apply animate-pulse bg-muted rounded;
  }
  
  /* Shimmer effect for loading */
  .shimmer {
    background: linear-gradient(
      90deg,
      hsl(var(--muted)) 0%,
      hsl(var(--muted-foreground) / 0.1) 50%,
      hsl(var(--muted)) 100%
    );
    background-size: 200% 100%;
    @apply animate-shimmer;
  }
  
  /* Glass effect */
  .glass {
    @apply bg-background/80 backdrop-blur-md border border-border/50;
  }
  
  /* Smooth button press */
  .btn-press {
    @apply transition-all duration-150 active:scale-95;
  }
  
  /* Fade in on scroll */
  .fade-in-view {
    @apply opacity-0 translate-y-4 transition-all duration-500;
  }
  
  .fade-in-view.visible {
    @apply opacity-100 translate-y-0;
  }
  
  /* Container responsive */
  .container-responsive {
    @apply w-full px-4 sm:px-6 lg:px-8 mx-auto max-w-7xl;
  }
  
  /* Card with hover glow */
  .card-glow {
    @apply relative overflow-hidden;
  }
  
  .card-glow::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300 bg-gradient-to-r from-primary/10 to-accent/10;
  }
  
  .card-glow:hover::before {
    @apply opacity-100;
  }
  
  /* Text truncate with tooltip hint */
  .text-truncate {
    @apply truncate hover:overflow-visible hover:whitespace-normal hover:break-words;
  }
  
  /* Better touch targets for mobile */
  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }
  
  /* Responsive text sizes */
  .text-responsive {
    @apply text-sm sm:text-base lg:text-lg;
  }
  
  .heading-responsive {
    @apply text-xl sm:text-2xl lg:text-3xl font-bold;
  }
  
  /* Responsive grid */
  .grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4;
  }
  
  /* Stagger animation children */
  .stagger-children > * {
    @apply animate-fade-in;
  }
  
  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 150ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 250ms; }
}

/* Smooth Tab Transitions */
[data-radix-tabs-content] {
  transition: opacity 300ms ease-in-out, transform 300ms ease-in-out;
}

[data-radix-tabs-content][data-state="inactive"] {
  opacity: 0;
  transform: translateY(10px);
  pointer-events: none;
  position: absolute;
}

[data-radix-tabs-content][data-state="active"] {
  opacity: 1;
  transform: translateY(0);
  position: relative;
}

/* Improved scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-muted/50 rounded-full;
}

::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/30 rounded-full hover:bg-muted-foreground/50 transition-colors;
}

/* Prevent layout shift on scroll */
html {
  scrollbar-gutter: stable;
}

/* Better image loading */
img {
  @apply transition-opacity duration-300;
}

img[loading="lazy"] {
  opacity: 0;
}

img[loading="lazy"].loaded,
img:not([loading="lazy"]) {
  opacity: 1;
}

/* Dialog/Modal animations */
[data-state="open"] {
  animation: fade-in 0.2s ease-out, scale-in 0.2s ease-out;
}

[data-state="closed"] {
  animation: fade-out 0.15s ease-in, scale-out 0.15s ease-in;
}

/* Dropdown improvements */
[role="menu"],
[role="listbox"] {
  @apply bg-popover border border-border shadow-lg z-50;
}

/* Mobile touch improvements */
@media (hover: none) and (pointer: coarse) {
  .hover-scale:active {
    @apply scale-[0.98];
  }
  
  button, a, [role="button"] {
    -webkit-tap-highlight-color: transparent;
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}